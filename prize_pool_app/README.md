# Prize Pool App

A Flutter application where users watch ads daily, and the generated revenue is distributed to all participants as a prize pool.

## Features

- User authentication (login/register)
- Daily ad watching to contribute to the prize pool
- Prize pool distribution to all participants
- User profile with earnings tracking
- Firebase integration for authentication and database

## Setup Instructions

### 1. Firebase Setup

1. Create a Firebase project at [https://console.firebase.google.com/](https://console.firebase.google.com/)
2. Add an Android app to your Firebase project:
   - Package name: `com.example.prize_pool_app` (or your custom package name)
   - Register the app and download the `google-services.json` file
   - Place the file in the `android/app` directory
3. Add an iOS app to your Firebase project (if needed):
   - Bundle ID: `com.example.prizePoolApp` (or your custom bundle ID)
   - Register the app and download the `GoogleService-Info.plist` file
   - Place the file in the `ios/Runner` directory
4. Enable Authentication in Firebase:
   - Go to Authentication > Sign-in method
   - Enable Email/Password authentication
5. Create Firestore Database:
   - Go to Firestore Database > Create database
   - Start in production mode
   - Choose a location close to your users

### 2. Configure Firebase in the App

1. Install FlutterFire CLI:

   ```
   dart pub global activate flutterfire_cli
   ```

2. Configure Firebase for your Flutter app:

   ```
   flutterfire configure --project=your-firebase-project-id
   ```

3. Update the `firebase_options.dart` file with the values generated by the FlutterFire CLI.

### 3. AdMob Setup

1. Create an AdMob account at [https://apps.admob.com/](https://apps.admob.com/)
2. Create a new app in AdMob and get your App ID
3. Create a Rewarded Ad unit and note the Ad Unit ID
4. Update the Ad Unit IDs in `lib/services/ad_service.dart`
5. Update the Android and iOS configuration files:

   For Android, add to `android/app/src/main/AndroidManifest.xml` inside the `<application>` tag:

   ```xml
   <meta-data
       android:name="com.google.android.gms.ads.APPLICATION_ID"
       android:value="ca-app-pub-xxxxxxxxxxxxxxxx~yyyyyyyyyy"/>
   ```

   For iOS, add to `ios/Runner/Info.plist`:

   ```xml
   <key>GADApplicationIdentifier</key>
   <string>ca-app-pub-xxxxxxxxxxxxxxxx~yyyyyyyyyy</string>
   <key>SKAdNetworkItems</key>
   <array>
     <dict>
       <key>SKAdNetworkIdentifier</key>
       <string>cstr6suwn9.skadnetwork</string>
     </dict>
   </array>
   ```

### 4. Run the App

1. Install dependencies:

   ```
   flutter pub get
   ```

2. Run the app:
   ```
   flutter run
   ```

## Database Structure

### Collections

1. **users**

   - uid (document ID)
   - email
   - username
   - adWatchCount
   - earnings
   - lastAdWatchTime

2. **prize_pools**

   - id (document ID)
   - totalAmount
   - participantCount
   - distributionDate
   - isDistributed

3. **ad_watches**
   - userId
   - timestamp
   - revenueGenerated

## How It Works

1. Users register and log in to the app
2. Each user can watch one ad per day
3. When a user watches an ad, the estimated revenue is added to the prize pool
4. The prize pool is distributed to all participants after a set period (e.g., weekly)
5. Users can track their earnings and contribution in their profile
